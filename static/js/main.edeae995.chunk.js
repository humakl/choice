(this.webpackJsonpchoice=this.webpackJsonpchoice||[]).push([[0],{130:function(e,t,n){e.exports={selectedPage:"paginator_selectedPage__3BnLw"}},131:function(e,t,n){e.exports={userAva:"users_userAva__3El_H"}},133:function(e,t,n){e.exports={item:"post_item__1GRi_"}},16:function(e,t,n){e.exports={nav:"nav_nav__1pDDF",item:"nav_item__3kxs_",activelink:"nav_activelink__FfcWD"}},161:function(e,t,n){},244:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var s=n(0),r=(n(161),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,287)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))}),a=n(9),i=n(11),c=n.n(i),o=n(18),u=n(4),l=n(36),j=n(126).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"6c596676-f22a-4db2-9987-def9fe67b0be"}}),d={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return j.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return j.post("follow/".concat(e))},unfollow:function(e){return j.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object"),p.getProfile(e)}},p={getProfile:function(e){return j.get("profile/"+e)},getStatus:function(e){return j.get("profile/status/"+e)},updateStatus:function(e){return j.put("profile/status/",{status:e})}},b=function(){return j.get("auth/me")},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return j.post("auth/login",{email:e,password:t,rememberMe:n})},h=function(){return j.delete("auth/login")},g="SET_USER_DATA",O={userId:null,email:null,login:null,isAuth:!1},m=function(e,t,n,s){return{type:g,payload:{userId:e,email:t,login:n,isAuth:s}}},v=function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){var n,s,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:0===(n=e.sent).data.resultCode&&(s=n.data.data,r=s.id,a=s.login,i=s.email,t(m(r,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),t.payload);default:return e}},w=n(38),P="ADD-NEW-MESSAGE",k={dialogs:[{id:1,name:"Joe"},{id:2,name:"Chuck"},{id:3,name:"Bill"},{id:4,name:"Bob"},{id:5,name:"Nick"}],messages:[{id:1,talker:"me",message:"Hey there!"},{id:2,talker:"you",message:"Let's do it!"},{id:3,talker:"you",message:"We can achieve it!"},{id:4,talker:"me",message:"Something went wrong?"}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(u.a)(Object(u.a)({},e),{},{messages:[].concat(Object(w.a)(e.messages),[{id:5,talker:"you",message:t.newMessageText}])});default:return e}},C="ADD-POST",S="SET-USER-PROFILE",y="SET-STATUS",N={posts:[{id:1,message:"Hey there!",likesCounter:"12"},{id:2,message:"My new message",likesCounter:"15"},{id:3,message:"My new message",likesCounter:"14"},{id:4,message:"My new message",likesCounter:"11"},{id:5,message:"My new message",likesCounter:"17"}],profile:null,status:""},I=function(e){return{type:y,status:e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(w.a)(e.posts),[{id:5,message:t.newPostText,likesCounter:"3"}])});case y:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case S:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});default:return e}},T={sidebar:{friendsName:[{id:1,name:"Joe"},{id:2,name:"Chuck"},{id:3,name:"Bill"},{id:4,name:"Bob"},{id:5,name:"Nick"}]}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return e},U=function(e,t,n,s){return e.map((function(e){return e[n]===t?Object(u.a)(Object(u.a)({},e),s):e}))},F="FOLLOW",M="UNFOLLOW",z="SET-USERS",L="SET-CURRENT-PAGE",D="SET-TOTAL-USERS-COUNT",B="TOGGLE-IS-FETCHING",G="TOGGLE-IS-FOLLOwING_PROGRESS",R={users:[],pageSize:7,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},W=function(e){return{type:F,userID:e}},J=function(e){return{type:M,userID:e}},H=function(e){return{type:L,currentPage:e}},Y=function(e){return{type:B,isFetching:e}},K=function(e,t){return{type:G,isFetching:e,userID:t}},V=function(){var e=Object(o.a)(c.a.mark((function e(t,n,s,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(K(!0,n)),e.next=3,s(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(K(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,s,r){return e.apply(this,arguments)}}(),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:case M:return Object(u.a)(Object(u.a)({},e),{},{users:U(e.users,t.userID,"id",{followed:!0})});case z:return Object(u.a)(Object(u.a)({},e),{},{users:Object(w.a)(t.users)});case L:return Object(u.a)(Object(u.a)({},e),{},{currentPage:t.currentPage});case D:return Object(u.a)(Object(u.a)({},e),{},{totalUsersCount:t.count});case B:return Object(u.a)(Object(u.a)({},e),{},{isFetching:t.isFetching});case G:return Object(u.a)(Object(u.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(w.a)(e.followingInProgress),[t.userID]):e.followingInProgress.filter((function(e){return e!==t.userID}))});default:return e}},q=n(127),Z=n(125),X="INITIALIZATION_SUCCESS",$={initialized:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});default:return e}},te=Object(a.c)({profilePage:A,messagesPage:_,sidebar:E,usersPage:Q,auth:x,form:Z.a,app:ee}),ne=Object(a.e)(te,Object(a.a)(q.a));window.store=ne;var se=ne,re=n(1),ae=n.n(re),ie=n(62),ce=n.n(ie),oe=n(25),ue=n(26),le=n(28),je=n(27),de=(n(244),n(13)),pe=n(16),be=n.n(pe),fe=function(e){return Object(s.jsxs)("nav",{className:be.a.nav,children:[Object(s.jsx)("div",{className:be.a.item,children:Object(s.jsx)(de.b,{to:"/profile",activeClassName:be.a.activelink,children:"Profile"})}),Object(s.jsx)("div",{className:be.a.item,children:Object(s.jsx)(de.b,{to:"/dialogs",activeClassName:be.a.activelink,children:"Messages"})}),Object(s.jsx)("div",{className:be.a.item,children:Object(s.jsx)(de.b,{to:"/users",activeClassName:be.a.activelink,children:"Users"})}),Object(s.jsx)("div",{className:be.a.item,children:Object(s.jsx)(de.b,{to:"/news",activeClassName:be.a.activelink,children:"News"})}),Object(s.jsx)("div",{className:be.a.item,children:Object(s.jsx)(de.b,{to:"/photos",activeClassName:be.a.activelink,children:"Photos"})}),Object(s.jsx)("div",{className:be.a.item,children:Object(s.jsx)(de.b,{to:"/settings",activeClassName:be.a.activelink,children:"Settings"})})]})},he=n(7),ge=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"News page"})})},Oe=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"Photos page"})})},me=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"Settings page"})})},ve=n(12),xe=function(e){return{isAuth:e.auth.isAuth}},we=function(e){var t=function(t){Object(le.a)(r,t);var n=Object(je.a)(r);function r(){return Object(oe.a)(this,r),n.apply(this,arguments)}return Object(ue.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(s.jsx)(e,Object(u.a)({},this.props)):Object(s.jsx)(he.a,{to:"/login"})}}]),r}(ae.a.Component);return Object(ve.b)(xe)(t)},Pe=n(123),ke=n(124),_e=function(e){if(!e)return"Field is required"},Ce=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},Se=n(53),ye=n(65),Ne=n.n(ye),Ie=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,a=e.children,i=n&&r;return Object(s.jsxs)("div",{className:Ne.a.error,children:[Object(s.jsx)("div",{children:a}),Object(s.jsx)("div",{children:i&&Object(s.jsx)("span",{id:"error-span",children:r})})]})},Ae=function(e){var t=e.input,n=(e.meta,e.child,Object(Se.a)(e,["input","meta","child"]));return Object(s.jsx)(Ie,Object(u.a)(Object(u.a)({},e),{},{children:Object(s.jsx)("textarea",Object(u.a)(Object(u.a)({},t),n))}))},Te=function(e){var t=e.input,n=(e.meta,e.child,Object(Se.a)(e,["input","meta","child"]));return Object(s.jsx)(Ie,Object(u.a)(Object(u.a)({},e),{},{children:Object(s.jsx)("input",Object(u.a)(Object(u.a)({},t),n))}))},Ee=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(s.jsxs)("div",{children:[Object(s.jsx)(Pe.a,Object(u.a)({placeholder:e,name:t,validate:n,component:r},a)),i]})},Ue=n(29),Fe=n.n(Ue),Me=function(e){return Object(s.jsx)("div",{className:Fe.a.dialog,children:Object(s.jsxs)(de.b,{to:"/dialogs/"+e.id,activeClassName:Fe.a.active,children:[Object(s.jsx)("img",{src:"images/avatar-icon.jpg",alt:"avatar",className:Fe.a.dialogAva}),e.name]})})},ze=function(e){return Object(s.jsxs)("div",{className:Fe.a.message,children:[e.talker,": ",e.message]})},Le=Ce(50),De=Object(ke.a)({form:"dialogAddMessageForm"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)(Pe.a,{validate:[_e,Le],component:Ae,name:"newMessageText",placeholder:"Enter your message"})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"Send message"})})]})})),Be=function(e){var t=e.dialogs.map((function(e){return Object(s.jsx)(Me,{name:e.name,id:e.id},e.id)})),n=e.messages.map((function(e){return Object(s.jsx)(ze,{message:e.message,talker:e.talker},e.id)}));return e.isAuth?Object(s.jsxs)("div",{className:Fe.a.dialogs,children:[Object(s.jsx)("div",{className:Fe.a.dialogsItems,children:t}),Object(s.jsxs)("div",{className:Fe.a.messages,children:[Object(s.jsx)("div",{children:n}),Object(s.jsx)(De,{onSubmit:function(t){e.addNewMessage(t.newMessageText)}})]})]}):Object(s.jsx)(he.a,{to:"/login"})},Ge=Object(a.d)(Object(ve.b)((function(e){return{dialogs:e.messagesPage.dialogs,messages:e.messagesPage.messages,newMessageText:e.messagesPage.newMessageText}}),(function(e){return{addNewMessage:function(t){e(function(e){return{type:P,newMessageText:e}}(t))}}})),we)(Be),Re=n(130),We=n.n(Re),Je=function(e){for(var t=e.totalUsersCount,n=e.pageSize,r=e.currentPage,a=e.onPageChanged,i=Math.ceil(t/n),c=[],o=1;o<=i;o++)c.push(o);return Object(s.jsx)("div",{children:c.map((function(e){return Object(s.jsx)("span",{className:r===e&&We.a.selectedPage,onClick:function(){a(e)},children:e})}))})},He=n.p+"static/media/photo_small.a355bbd7.jpg",Ye=n(131),Ke=n.n(Ye),Ve=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,a=e.follow;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:Object(s.jsx)(de.b,{to:"/profile/"+t.id,children:Object(s.jsx)("img",{src:null!=t.photos.small?t.photos.small:He,alt:"",className:Ke.a.userAva})})}),Object(s.jsx)("div",{children:t.followed?Object(s.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Unfollow"}):Object(s.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Follow"})})]}),Object(s.jsxs)("span",{children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:t.name}),Object(s.jsx)("div",{children:t.status})]}),Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{children:"u.location.country"}),Object(s.jsx)("div",{children:"u.location.city"})]})]})]})},Qe=function(e){var t=e.currentPage,n=e.totalUsersCount,r=e.pageSize,a=e.onPageChanged,i=e.users,c=Object(Se.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]);return Object(s.jsxs)("div",{children:[Object(s.jsx)(Je,{currentPage:t,onPageChanged:a,totalUsersCount:n,pageSize:r}),Object(s.jsx)("div",{children:i.map((function(e){return Object(s.jsx)(Ve,{followingInProgress:c.followingInProgress,unfollow:c.unfollow,follow:c.follow,user:e},e.id)}))})]})},qe=n.p+"static/media/1484.fdfb5c59.gif",Ze=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:qe,alt:"loading"})})},Xe=n(132),$e=Object(Xe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),et=function(e){return e.usersPage.pageSize},tt=function(e){return e.usersPage.totalUsersCount},nt=function(e){return e.usersPage.currentPage},st=function(e){return e.usersPage.isFetching},rt=function(e){return e.usersPage.followingInProgress},at=function(e){Object(le.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(oe.a)(this,n);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onPageChanged=function(t){var n=e.props.pageSize;e.props.getUsers(t,n)},e}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[this.props.isFetching?Object(s.jsx)(Ze,{}):null,Object(s.jsx)(Qe,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,onPageChanged:this.onPageChanged,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress})]})}}]),n}(ae.a.Component),it=Object(a.d)(we,Object(ve.b)((function(e){return{users:$e(e),pageSize:et(e),totalUsersCount:tt(e),currentPage:nt(e),isFetching:st(e),followingInProgress:rt(e)}}),{follow:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:V(n,e,d.follow.bind(d),W);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:V(n,e,d.unfollow.bind(d),J);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:H,toggleFollowingProgress:K,getUsers:function(e,t){return function(){var n=Object(o.a)(c.a.mark((function n(s){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(Y(!0)),s(H(e)),n.next=4,d.getUsers(e,t);case 4:r=n.sent,s(Y(!1)),s((i=r.items,{type:z,users:i})),s((a=r.totalCount,{type:D,count:a}));case 8:case"end":return n.stop()}var a,i}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(at),ct=n(90),ot=n.n(ct),ut=n(133),lt=n.n(ut),jt=function(e){return Object(s.jsxs)("div",{className:lt.a.item,children:[Object(s.jsx)("img",{src:"images/avatar-icon.jpg",alt:"post avatar"}),e.message,Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{children:"Like"}),e.likesCounter]})]})},dt=ae.a.memo((function(e){var t=e.posts.map((function(e){return Object(s.jsx)(jt,{message:e.message,likesCounter:e.likesCounter},e.id)}));return Object(s.jsxs)("div",{className:ot.a.postsBlock,children:[Object(s.jsx)("h3",{children:"My posts"}),Object(s.jsx)(bt,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(s.jsx)("div",{className:ot.a.posts,children:t})]})})),pt=Ce(10),bt=Object(ke.a)({form:"ProfileAddNewPostForm"})((function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)(Pe.a,{component:Ae,name:"newPostText",validate:[_e,pt],placeholder:"typing..."})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"Add post"})})]})})),ft=dt,ht=Object(ve.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:C,newPostText:e}}(t))}}}))(ft),gt=n(91),Ot=n.n(gt),mt=n(93),vt=function(e){var t=Object(re.useState)(!1),n=Object(mt.a)(t,2),r=n[0],a=n[1],i=Object(re.useState)(e.status),c=Object(mt.a)(i,2),o=c[0],u=c[1];Object(re.useEffect)((function(){u(e.status)}),[e.status]);return Object(s.jsxs)("div",{children:[!r&&Object(s.jsx)("div",{children:Object(s.jsx)("span",{onDoubleClick:function(){a(!0)},children:e.status||"-------"})}),r&&Object(s.jsx)("div",{children:Object(s.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateStatus(o)},value:o})})]})},xt=function(e){var t=e.profile,n=e.status,r=e.updateStatus;return t?Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:Ot.a.descriptionBlock,children:[Object(s.jsx)("img",{src:t.photos.small,alt:"avatar",className:Ot.a.ava}),Object(s.jsx)(vt,{status:n,updateStatus:r})]})}):Object(s.jsx)(Ze,{})},wt=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)(xt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(s.jsx)(ht,{})]})},Pt=function(e){Object(le.a)(n,e);var t=Object(je.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(s.jsx)(wt,Object(u.a)(Object(u.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(ae.a.Component),kt=Object(a.d)(Object(ve.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.getProfile(e);case 2:s=t.sent,n((r=s.data,{type:S,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){var s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getStatus(e);case 2:s=t.sent,n(I(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(I(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),he.f)(Pt),_t=n(92),Ct=n.n(_t),St=function(e){return Object(s.jsxs)("header",{className:Ct.a.header,children:[Object(s.jsx)("img",{src:"https://cdn.logo.com/hotlink-ok/logo-social.png",alt:"logo"}),Object(s.jsx)("div",{className:Ct.a.loginBlock,children:e.isAuth?Object(s.jsxs)("div",{children:[e.login," - ",Object(s.jsx)("button",{onClick:e.logout,children:"Log out"})," "]}):Object(s.jsx)(de.b,{to:"/login",children:"Login"})})]})},yt=function(e){Object(le.a)(n,e);var t=Object(je.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"render",value:function(){return Object(s.jsx)(St,Object(u.a)({},this.props))}}]),n}(ae.a.Component),Nt=Object(ve.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:0===e.sent.data.resultCode&&t(m(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(yt),It=Object(ke.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(s.jsxs)("form",{onSubmit:t,children:[Ee("Email","email",[_e],Te),Ee("Password","password",[_e],Te,{type:"password"}),Ee(null,"rememberMe",null,Te,{type:"checkbox"},"remember me"),n&&Object(s.jsx)("div",{className:Ne.a.formError,children:n}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"Sign in"})})]})})),At=Object(ve.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var s=Object(o.a)(c.a.mark((function s(r){var a,i;return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,f(e,t,n);case 2:0===(a=s.sent).data.resultCode?r(v()):(i=a.data.messages.length>0?a.data.messages[0]:"Some error",r(Object(l.a)("login",{_error:i})));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(s.jsx)(he.a,{to:"/profile"}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Login"}),Object(s.jsx)(It,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),Tt=function(e){Object(le.a)(n,e);var t=Object(je.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(s.jsxs)("div",{className:"app-wrapper",children:[Object(s.jsx)(Nt,{}),Object(s.jsx)(fe,{}),Object(s.jsxs)("div",{className:"app-content-wrapper",children:[Object(s.jsx)(he.b,{path:"/profile/:userId?",render:function(){return Object(s.jsx)(kt,{})}}),Object(s.jsx)(he.b,{path:"/dialogs",render:function(){return Object(s.jsx)(Ge,{})}}),Object(s.jsx)(he.b,{path:"/users",render:function(){return Object(s.jsx)(it,{})}}),Object(s.jsx)(he.b,{path:"/login",render:function(){return Object(s.jsx)(At,{})}}),Object(s.jsx)(he.b,{path:"/news",render:function(){return Object(s.jsx)(ge,{})}}),Object(s.jsx)(he.b,{path:"/photos",render:function(){return Object(s.jsx)(Oe,{})}}),Object(s.jsx)(he.b,{path:"/settings",render:function(){return Object(s.jsx)(me,{})}})]})]}):Object(s.jsx)(Ze,{})}}]),n}(re.Component),Et=Object(a.d)(he.f,Object(ve.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(v());Promise.all([t]).then((function(){e({type:X})}))}}}))(Tt);ce.a.render(Object(s.jsx)(ae.a.StrictMode,{children:Object(s.jsx)(de.a,{children:Object(s.jsx)(ve.a,{store:se,children:Object(s.jsx)(Et,{})})})}),document.getElementById("root")),r()},29:function(e,t,n){e.exports={dialogs:"dialogs_dialogs__1TvAn",dialogsItems:"dialogs_dialogsItems__1VVWO",active:"dialogs_active__2Yo4j",messages:"dialogs_messages__1V8Mu",dialogAva:"dialogs_dialogAva__2BYb-"}},65:function(e,t,n){e.exports={formControl:"formsControls_formControl__23CaI","error-span":"formsControls_error-span__1cL9L",formError:"formsControls_formError__28bE2"}},90:function(e,t,n){e.exports={postsBlock:"myPosts_postsBlock__81pWY",posts:"myPosts_posts__4JQtv"}},91:function(e,t,n){e.exports={ava:"profileInfo_ava__Khczz",descriptionBlock:"profileInfo_descriptionBlock__3iQuh"}},92:function(e,t,n){e.exports={header:"header_header__1KEzr",loginBlock:"header_loginBlock__2GUhh"}}},[[286,1,2]]]);
//# sourceMappingURL=main.edeae995.chunk.js.map